<div class="content">
  <!-- Paso 1: Registro de usuario -->
  <div *ngIf="currentStep === 1">
    <mat-card class="register-card">
      <h2 class="text-center">Registro de Usuario</h2>
      <form (ngSubmit)="nextStep()">
        <mat-form-field appearance="fill" class="form-group">
          <mat-label>Correo Electrónico</mat-label>
          <input
            matInput
            type="email"
            [(ngModel)]="user.UsuarioCorreo"
            name="UsuarioCorreo"
            required
          />
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-group">
          <mat-label>Contraseña</mat-label>
          <input
            matInput
            type="password"
            [(ngModel)]="user.UsuarioContrasena"
            name="UsuarioContrasena"
            required
          />
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-group">
          <mat-label>Nombres</mat-label>
          <input
            matInput
            type="text"
            [(ngModel)]="user.UsuarioNombres"
            name="UsuarioNombres"
            required
          />
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-group">
          <mat-label>Apellidos</mat-label>
          <input
            matInput
            type="text"
            [(ngModel)]="user.UsuarioApellidos"
            name="UsuarioApellidos"
            required
          />
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-group">
          <mat-label>Teléfono</mat-label>
          <input
            matInput
            type="text"
            [(ngModel)]="user.UsuarioTelefono"
            name="UsuarioTelefono"
            required
          />
        </mat-form-field>

        <div class="button-container">
          <button
            mat-raised-button
            color="primary"
            type="submit"
            [disabled]="isSubmitting"
          >
            Siguiente
          </button>
        </div>
      </form>
    </mat-card>
  </div>

  <!-- Paso 2: Registro de empresa -->
  <div *ngIf="currentStep === 2">
    <mat-card class="register-card">
      <h2 class="text-center">Registro de Empresa</h2>
      <form (ngSubmit)="nextStep()">
        <mat-form-field appearance="fill" class="form-group">
          <mat-label>¿Tienes RUC?</mat-label>
          <mat-select
            [(value)]="empresaTieneRuc"
            (selectionChange)="onRucSelectionChange($event)"
          >
            <mat-option [value]="true">Sí, tengo RUC</mat-option>
            <mat-option [value]="false">No tengo RUC</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field
          *ngIf="empresaTieneRuc"
          appearance="fill"
          class="form-group"
        >
          <mat-label>RUC</mat-label>
          <input
            matInput
            type="text"
            [(ngModel)]="empresa.EmpresaRuc"
            name="EmpresaRuc"
            required
          />
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-group">
          <mat-label>Razón Social</mat-label>
          <input
            matInput
            type="text"
            [(ngModel)]="empresa.EmpresaRazonSocial"
            name="EmpresaRazonSocial"
            required
          />
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-group">
          <mat-label>Nombre Comercial</mat-label>
          <input
            matInput
            type="text"
            [(ngModel)]="empresa.EmpresaNombreComercial"
            name="EmpresaNombreComercial"
            required
          />
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-group">
          <mat-label>Alias</mat-label>
          <input
            matInput
            type="text"
            [(ngModel)]="empresa.EmpresaAlias"
            name="EmpresaAlias"
            required
          />
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-group">
          <mat-label>Domicilio Fiscal</mat-label>
          <input
            matInput
            type="text"
            [(ngModel)]="empresa.EmpresaDomicilioFiscal"
            name="EmpresaDomicilioFiscal"
            required
          />
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-group">
          <mat-label>Rubro</mat-label>
          <mat-select [(ngModel)]="empresa.RubroId" name="RubroId">
            <mat-option *ngFor="let rubro of rubros" [value]="rubro.RubroId">
              {{ rubro.RubroNombre }}
            </mat-option>
          </mat-select>
        </mat-form-field>


        <mat-form-field appearance="fill" class="form-group">
          <mat-label>Logo</mat-label>
          <input
            matInput
            type="text"
            [(ngModel)]="empresa.EmpresaLogo"
            name="EmpresaLogo"
            required
          />
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-group">
          <mat-label>Información Adicional</mat-label>
          <textarea
            matInput
            [(ngModel)]="empresa.EmpresaInformacionAdicional"
            name="EmpresaInformacionAdicional"
            required
          ></textarea>
        </mat-form-field>

        <div class="button-container">
          <button
            mat-raised-button
            color="primary"
            type="submit"
            [disabled]="isSubmitting"
          >
            Registrar Empresa
          </button>
          <button
            mat-raised-button
            color="warn"
            type="button"
            (click)="prevStep()"
          >
            Volver
          </button>
        </div>
      </form>
    </mat-card>
  </div>
</div>
