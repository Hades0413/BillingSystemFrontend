<div class="register-container">
  <mat-card class="register-card">
    <h2 class="text-center">Registro de Empresa</h2>

    <form (ngSubmit)="register()">
      <!-- Opción para seleccionar si no se tiene RUC -->
      <mat-form-field appearance="fill" class="form-group">
        <mat-label>¿Tienes RUC?</mat-label>
        <mat-select [(value)]="empresaTieneRuc" (selectionChange)="onRucSelectionChange($event)">
          <mat-option [value]="true">Sí, tengo RUC</mat-option>
          <mat-option [value]="false">No tengo RUC</mat-option>
        </mat-select>
      </mat-form-field>

      <!-- Campo RUC que se oculta si "No tengo RUC" es seleccionado -->
      <mat-form-field *ngIf="empresaTieneRuc" appearance="fill" class="form-group">
        <mat-label>RUC</mat-label>
        <input
          matInput
          type="text"
          id="empresaRuc"
          [(ngModel)]="empresa.EmpresaRuc"
          name="empresaRuc"
          required
        />
      </mat-form-field>

      <mat-form-field appearance="fill" class="form-group">
        <mat-label>Razón Social</mat-label>
        <input
          matInput
          type="text"
          id="empresaRazonSocial"
          [(ngModel)]="empresa.EmpresaRazonSocial"
          name="empresaRazonSocial"
          required
        />
      </mat-form-field>

      <mat-form-field appearance="fill" class="form-group">
        <mat-label>Nombre Comercial</mat-label>
        <input
          matInput
          type="text"
          id="empresaNombreComercial"
          [(ngModel)]="empresa.EmpresaNombreComercial"
          name="empresaNombreComercial"
          required
        />
      </mat-form-field>

      <mat-form-field appearance="fill" class="form-group">
        <mat-label>Alias</mat-label>
        <input
          matInput
          type="text"
          id="empresaAlias"
          [(ngModel)]="empresa.EmpresaAlias"
          name="empresaAlias"
          required
        />
      </mat-form-field>

      <mat-form-field appearance="fill" class="form-group">
        <mat-label>Domicilio Fiscal</mat-label>
        <input
          matInput
          type="text"
          id="empresaDomicilioFiscal"
          [(ngModel)]="empresa.EmpresaDomicilioFiscal"
          name="empresaDomicilioFiscal"
          required
        />
      </mat-form-field>

      <mat-form-field appearance="fill" class="form-group">
        <mat-label>Logo</mat-label>
        <input
          matInput
          type="text"
          id="empresaLogo"
          [(ngModel)]="empresa.EmpresaLogo"
          name="empresaLogo"
          required
        />
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Rubro</mat-label>
        <mat-select [(value)]="empresa.RubroId">
          <mat-option *ngFor="let rubro of rubros" [value]="rubro.RubroId">
            {{ rubro.RubroNombre }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill" class="form-group">
        <mat-label>Información Adicional</mat-label>
        <textarea
          matInput
          id="empresaInformacionAdicional"
          [(ngModel)]="empresa.EmpresaInformacionAdicional"
          name="empresaInformacionAdicional"
          rows="3"
          required
        ></textarea>
      </mat-form-field>

      <div class="button-container">
        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="isSubmitting"
          class="submit-button"
        >
          Registrar Empresa
        </button>
      </div>
    </form>

    <div class="login-link">
      <p class="text-center">
        ¿Ya tienes una empresa registrada?
        <a routerLink="/empresa-list">Ver Empresas</a>
      </p>
    </div>
  </mat-card>
</div>
